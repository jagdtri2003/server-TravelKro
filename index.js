const express = require('express');
const app = express();
const port = process.env.PORT || 4000; // Set your desired port number
const cors=require('cors');

const nodemailer = require('nodemailer');

// Create a transporter object using the default SMTP transport
const transporter = nodemailer.createTransport({
  host:'smtp-relay.brevo.com',
  port:587,
  auth: {
    user: 'heruko.pythonanywhere@gmail.com',  // Your Gmail email address
    pass:process.env.REACT_APP_PASS     // Your Gmail password or app password
  }
});

// Define your routes and middleware here

app.use(express.json());
app.use(cors());
app.use('/flight',require('./routes/flight'));
app.use('/hotel',require('./routes/hotel'));


app.listen(port, () => {
  console.log(`Server is running on port ${port}`);
});

app.get('/',(req,res)=>{
    res.send("Working!!");
})

app.get('/location',(req,res)=>{
    const location = [
    [81.78049, 25.46007],
    [81.78056, 25.4602],
    [81.78093, 25.46006],
    [81.7811, 25.45999],
    [81.78154, 25.45983],
    [81.7818, 25.45974],
    [81.78191, 25.45969],
    [81.78188, 25.4596],
    [81.78189, 25.45959],
    [81.78191, 25.45958],
    [81.78193, 25.45957],
    [81.78195, 25.45956],
    [81.78183, 25.45929],
    [81.78176, 25.4591],
    [81.78163, 25.45868],
    [81.78165, 25.45867],
    [81.78169, 25.45865],
    [81.78172, 25.45863],
    [81.78175, 25.45861],
    [81.78181, 25.45856],
    [81.78185, 25.45852],
    [81.78189, 25.45849],
    [81.78192, 25.45847],
    [81.78197, 25.45845],
    [81.78202, 25.45843],
    [81.78235, 25.45831],
    [81.78233, 25.45825],
    [81.7823, 25.45813],
    [81.78227, 25.458],
    [81.78225, 25.45791],
    [81.78223, 25.45783],
    [81.78222, 25.4578],
    [81.78238, 25.45779],
    [81.78245, 25.45778],
    [81.78254, 25.45777],
    [81.78262, 25.45775],
    [81.78268, 25.45773],
    [81.78274, 25.45771],
    [81.78276, 25.4577],
    [81.78277, 25.45769],
    [81.78277, 25.45767],
    [81.78277, 25.45766],
    [81.78277, 25.45763],
    [81.78274, 25.4574],
    [81.78259, 25.45682],
    [81.78258, 25.45673],
    [81.78257, 25.45667],
    [81.78256, 25.45663],
    [81.78255, 25.45655],
    [81.78252, 25.45645],
    [81.7825, 25.45633],
    [81.78248, 25.4562],
    [81.78247, 25.45607],
    [81.78255, 25.45603],
    [81.78265, 25.45598],
    [81.78272, 25.45594],
    [81.78278, 25.45592],
    [81.78283, 25.4559],
    [81.78288, 25.45589],
    [81.78292, 25.45588],
    [81.78298, 25.45587],
    [81.78305, 25.45583],
    [81.783, 25.45567],
    [81.78328, 25.45557],
    [81.78439, 25.4552],
    [81.78468, 25.4551],
    [81.78497, 25.455],
    [81.78503, 25.45498],
    [81.78507, 25.45497],
    [81.7851, 25.45496],
    [81.78554, 25.45475],
    [81.78542, 25.45457],
    [81.78542, 25.45456],
    [81.78542, 25.45455],
    [81.78543, 25.45454],
    [81.78577, 25.4543],
    [81.78585, 25.45426],
    [81.78588, 25.45425],
    [81.7859, 25.45425],
    [81.78593, 25.45425],
    [81.78607, 25.45432],
    [81.78619, 25.4542],
    [81.78652, 25.45399],
    [81.78683, 25.45382],
    [81.7873, 25.45355],
    [81.78734, 25.45353],
    [81.78789, 25.45323],
    [81.78806, 25.45315],
    [81.78836, 25.45302],
    [81.78841, 25.453],
    [81.78872, 25.45284],
    [81.78887, 25.4528],
    [81.78904, 25.45271],
    [81.78907, 25.45269],
    [81.7891, 25.45267],
    [81.78912, 25.45265],
    [81.78914, 25.45261],
    [81.78914, 25.45257],
    [81.7891, 25.45246],
    [81.78909, 25.4524],
    [81.78908, 25.45237],
    [81.78908, 25.45233],
    [81.78908, 25.45228],
    [81.78908, 25.45224],
    [81.7891, 25.45201],
    [81.78929, 25.45193],
    [81.78945, 25.45186],
    [81.78963, 25.45178],
    [81.78969, 25.45175],
    [81.78976, 25.45172],
    [81.7898, 25.4517],
    [81.78986, 25.45167],
    [81.78993, 25.45164],
    [81.79001, 25.45161],
    [81.7902, 25.45155],
    [81.79039, 25.45147],
    [81.79034, 25.45132],
    [81.79029, 25.45119],
    [81.79022, 25.45098],
    [81.79048, 25.45089],
    [81.79028, 25.45027],
    [81.79031, 25.45025],
    [81.7904, 25.4502],
    [81.79051, 25.45017],
    [81.79058, 25.45014],
    [81.79087, 25.44999],
    [81.79088, 25.44998],
    [81.79101, 25.44991],
    [81.79109, 25.44988],
    [81.79119, 25.44982],
    [81.79136, 25.44973],
    [81.79147, 25.44967],
    [81.79154, 25.44963],
    [81.79158, 25.4496],
    [81.79161, 25.44957],
    [81.79163, 25.44956],
    [81.79165, 25.44955],
    [81.79169, 25.44953],
    [81.79175, 25.44951],
    [81.79188, 25.44947],
    [81.7921, 25.44941],
    [81.79209, 25.44927],
    [81.79208, 25.44903],
    [81.79207, 25.44882],
    [81.79207, 25.4485],
    [81.79208, 25.44845],
    [81.79209, 25.44823],
    [81.79209, 25.44803],
    [81.79209, 25.44774],
    [81.79208, 25.44753],
    [81.792, 25.44679],
    [81.79199, 25.44664],
    [81.79198, 25.44656],
    [81.79197, 25.44652],
    [81.79196, 25.44649],
    [81.79195, 25.44643],
    [81.79246, 25.44622],
    [81.79269, 25.44612],
    [81.79292, 25.44603],
    [81.79319, 25.44592],
    [81.79403, 25.44557],
    [81.79478, 25.44526],
    [81.79495, 25.4452],
    [81.79729, 25.4443],
    [81.79731, 25.44428],
    [81.79735, 25.44422],
    [81.7975, 25.44419],
    [81.79763, 25.44421],
    [81.79765, 25.44421],
    [81.79769, 25.44421],
    [81.79773, 25.4442],
    [81.79787, 25.44418],
    [81.7983, 25.44402],
    [81.79854, 25.44395],
    [81.79905, 25.44379],
    [81.79968, 25.44359],
    [81.8006, 25.44331],
    [81.80102, 25.44318],
    [81.80144, 25.44305],
    [81.80157, 25.443],
    [81.80166, 25.44295],
    [81.80175, 25.44288],
    [81.80178, 25.44287],
    [81.80184, 25.44283],
    [81.80192, 25.44278],
    [81.80197, 25.44276],
    [81.80203, 25.44273],
    [81.80215, 25.44268],
    [81.80249, 25.44256],
    [81.80257, 25.44253],
    [81.80285, 25.44243],
    [81.80308, 25.44235],
    [81.80327, 25.44228],
    [81.80345, 25.44222],
    [81.8041, 25.44202],
    [81.80463, 25.44186],
    [81.80467, 25.44185],
    [81.80472, 25.44183],
    [81.80517, 25.4417],
    [81.80555, 25.44158],
    [81.80637, 25.44134],
    [81.80658, 25.44126],
    [81.80683, 25.44116],
    [81.80788, 25.44082],
    [81.80794, 25.44082],
    [81.80824, 25.44072],
    [81.80851, 25.44064],
    [81.80879, 25.4405],
    [81.80893, 25.44044],
    [81.80894, 25.44044],
    [81.80895, 25.44044],
    [81.80896, 25.44044],
    [81.80896, 25.44043],
    [81.80897, 25.44043],
    [81.80898, 25.44043],
    [81.80898, 25.44042],
    [81.80899, 25.44042],
    [81.80899, 25.44041],
    [81.809, 25.44041],
    [81.809, 25.4404],
    [81.80906, 25.44039],
    [81.80909, 25.44038],
    [81.80915, 25.44037],
    [81.80923, 25.44035],
    [81.80936, 25.44033],
    [81.80955, 25.44031],
    [81.81011, 25.44027],
    [81.8107, 25.44024],
    [81.81085, 25.44023],
    [81.8111, 25.44022],
    [81.81174, 25.44018],
    [81.81204, 25.44018],
    [81.81271, 25.44016],
    [81.81309, 25.44014],
    [81.81342, 25.44012],
    [81.81384, 25.44012],
    [81.81407, 25.4401],
    [81.81425, 25.44009],
    [81.81438, 25.44006],
    [81.81447, 25.44006],
    [81.81462, 25.44005],
    [81.81479, 25.44004],
    [81.8153, 25.44],
    [81.81602, 25.43997],
    [81.8163, 25.43995],
    [81.8164, 25.43995],
    [81.81679, 25.43995],
    [81.81738, 25.43994],
    [81.81761, 25.43995],
    [81.81783, 25.43995],
    [81.81794, 25.43996],
    [81.81806, 25.43996],
    [81.8181, 25.44022],
    [81.81811, 25.44028],
    [81.81816, 25.44061],
    [81.8182, 25.44108],
    [81.81824, 25.44152],
    [81.81828, 25.44199],
    [81.81829, 25.44209],
    [81.81831, 25.44237],
    [81.81829, 25.44209],
    [81.81828, 25.44199],
    [81.81824, 25.44152],
    [81.8182, 25.44108],
    [81.81816, 25.44061],
    [81.81811, 25.44028],
    [81.8181, 25.44022],
    [81.81806, 25.43996],
    [81.81794, 25.43996],
    [81.81783, 25.43995],
    [81.81761, 25.43995],
    [81.81738, 25.43994],
    [81.81679, 25.43995],
    [81.8164, 25.43995],
    [81.8163, 25.43995],
    [81.81602, 25.43997],
    [81.8153, 25.44],
    [81.81479, 25.44004],
    [81.81462, 25.44005],
    [81.81447, 25.44006],
    [81.81438, 25.44006],
    [81.81425, 25.44009],
    [81.81407, 25.4401],
    [81.81384, 25.44012],
    [81.81342, 25.44012],
    [81.81309, 25.44014],
    [81.81271, 25.44016],
    [81.81204, 25.44018],
    [81.81174, 25.44018],
    [81.8111, 25.44022],
    [81.81085, 25.44023],
    [81.8107, 25.44024],
    [81.81011, 25.44027],
    [81.80955, 25.44031],
    [81.80936, 25.44033],
    [81.80923, 25.44035],
    [81.80915, 25.44037],
    [81.80909, 25.44038],
    [81.80906, 25.44039],
    [81.809, 25.4404],
    [81.809, 25.44041],
    [81.80899, 25.44041],
    [81.80899, 25.44042],
    [81.80898, 25.44042],
    [81.80898, 25.44043],
    [81.80897, 25.44043],
    [81.80896, 25.44043],
    [81.80896, 25.44044],
    [81.80895, 25.44044],
    [81.80894, 25.44044],
    [81.80893, 25.44044],
    [81.80879, 25.4405],
    [81.80851, 25.44064],
    [81.80824, 25.44072],
    [81.80794, 25.44082],
    [81.80788, 25.44082],
    [81.80683, 25.44116],
    [81.80658, 25.44126],
    [81.80637, 25.44134],
    [81.80555, 25.44158],
    [81.80517, 25.4417],
    [81.80472, 25.44183],
    [81.80467, 25.44185],
    [81.80463, 25.44186],
    [81.8041, 25.44202],
    [81.80345, 25.44222],
    [81.80327, 25.44228],
    [81.80308, 25.44235],
    [81.80285, 25.44243],
    [81.80257, 25.44253],
    [81.80249, 25.44256],
    [81.80215, 25.44268],
    [81.80203, 25.44273],
    [81.80197, 25.44276],
    [81.80192, 25.44278],
    [81.80184, 25.44283],
    [81.80178, 25.44287],
    [81.80175, 25.44288],
    [81.80166, 25.44295],
    [81.80157, 25.443],
    [81.80144, 25.44305],
    [81.80102, 25.44318],
    [81.8006, 25.44331],
    [81.79968, 25.44359],
    [81.79905, 25.44379],
    [81.79854, 25.44395],
    [81.7983, 25.44402],
    [81.79787, 25.44418],
    [81.79773, 25.4442],
    [81.79769, 25.44421],
    [81.79764, 25.44421],
    [81.79762, 25.44421],
    [81.7975, 25.44419],
    [81.79735, 25.44422],
    [81.79731, 25.44428],
    [81.79729, 25.4443],
    [81.79495, 25.4452],
    [81.79478, 25.44526],
    [81.79403, 25.44557],
    [81.79319, 25.44592],
    [81.79292, 25.44603],
    [81.79269, 25.44612],
    [81.79246, 25.44622],
    [81.79195, 25.44644],
    [81.79137, 25.44667],
    [81.79119, 25.44674],
    [81.79107, 25.44678],
    [81.791, 25.4468],
    [81.79091, 25.44683],
    [81.79083, 25.44685],
    [81.79072, 25.44688],
    [81.7906, 25.44691],
    [81.79019, 25.44699],
    [81.78988, 25.44704],
    [81.78966, 25.44708],
    [81.78928, 25.44714],
    [81.78858, 25.44726],
    [81.78837, 25.4473],
    [81.78799, 25.44737],
    [81.78772, 25.44742],
    [81.78766, 25.44743],
    [81.78727, 25.44751],
    [81.78681, 25.44759],
    [81.78677, 25.4476],
    [81.78676, 25.4476],
    [81.78626, 25.44769],
    [81.78623, 25.4477],
    [81.78603, 25.44774],
    [81.78553, 25.44783],
    [81.78519, 25.44789],
    [81.78491, 25.44794],
    [81.78445, 25.44802],
    [81.78357, 25.44818],
    [81.78268, 25.44839],
    [81.78228, 25.44847],
    [81.78215, 25.4485],
    [81.78205, 25.44851],
    [81.78104, 25.44869],
    [81.78002, 25.4489],
    [81.77933, 25.449],
    [81.77911, 25.44908],
    [81.77917, 25.44924],
    [81.77921, 25.44933],
    [81.77926, 25.44944],
    [81.77941, 25.44972],
    [81.77966, 25.45021],
    [81.77973, 25.45037],
    [81.77987, 25.4507],
    [81.77969, 25.45072],
    [81.77994, 25.45145],
    [81.78004, 25.45168],
    [81.7801, 25.45184],
    [81.78019, 25.45209],
    [81.78029, 25.45236],
    [81.78036, 25.45258],
    [81.78043, 25.45274],
    [81.78055, 25.45305],
    [81.78066, 25.45335],
    [81.78086, 25.45387],
    [81.78078, 25.45389],
    [81.78105, 25.4546],
    [81.78115, 25.45487],
    [81.78127, 25.45519],
    [81.78136, 25.45542],
    [81.78144, 25.45562],
    [81.78152, 25.45583],
    [81.78161, 25.45604],
    [81.78175, 25.45638],
    [81.78183, 25.45633],
    [81.78199, 25.45667],
    [81.78202, 25.45673],
    [81.78205, 25.45682],
    [81.78208, 25.45695],
    [81.78207, 25.45703],
    [81.78212, 25.45732],
    [81.78215, 25.4575],
    [81.78217, 25.45766],
    [81.78218, 25.45779],
    [81.78222, 25.4578],
    [81.78223, 25.45783],
    [81.78225, 25.45791],
    [81.78227, 25.458],
    [81.7823, 25.45813],
    [81.78233, 25.45825],
    [81.78235, 25.45831],
    [81.78202, 25.45843],
    [81.78197, 25.45845],
    [81.78192, 25.45847],
    [81.78189, 25.45849],
    [81.78185, 25.45852],
    [81.78181, 25.45856],
    [81.78175, 25.45861],
    [81.78172, 25.45863],
    [81.78169, 25.45865],
    [81.78165, 25.45867],
    [81.78163, 25.45868],
    [81.78176, 25.4591],
    [81.78183, 25.45929],
    [81.78195, 25.45956],
    [81.78192, 25.45957],
    [81.78191, 25.45958],
    [81.78189, 25.45959],
    [81.78188, 25.4596],
    [81.78191, 25.45969],
    [81.7818, 25.45974],
    [81.78154, 25.45983],
    [81.7811, 25.45999],
    [81.78093, 25.46006],
    [81.78056, 25.4602],
    [81.78049, 25.46007],
  ];
  res.json(location);
})

app.post('/sendmail', (req, res) => {

    // Email data
    const mailOptions = {
        from: 'noreply@travelkro.in',
        to: req.body.userEmail,
        subject: 'Hello from Nodemailer',
        text: 'Hello, this is a test email sent with Nodemailer!'
    };

    // Send email
    transporter.sendMail(mailOptions, (error, info) => {
        if (error) {
            res.send(error);
        } else {
            res.send("Email Send!!");
        }
    });
});

